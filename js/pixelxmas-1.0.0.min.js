(function($){$.fn.pixelxmas=function(options){var settings=$.extend({numRows:16,lightFlickerSpeed:500},options);var numRows=settings.numRows;var lightSpeed=settings.lightFlickerSpeed;for(var i=0;i<numRows;i++){$(this).append("<div class='tree-row'></div>")}var numPixels=1;$(".tree-row").each(function(i){for(var x=0;x<numPixels;x++){$(this).append("<div class='tree-pixel'></div>")}numPixels++});for(var i=0;i<3;i++){$("#tree-canvas").append("<div class='trunk-row'><div class='trunk-pixel'></div><div class='trunk-pixel'></div><div class='trunk-pixel'></div></div>")}christmasLights();window.setInterval(christmasLights,500);function christmasLights(){$(".tree-pixel").removeClass("red-light blue-light yellow-light purple-light");$(shuffle($(".tree-pixel")).slice(0,5)).addClass("red-light");$(shuffle($(".tree-pixel")).slice(0,5)).addClass("blue-light");$(shuffle($(".tree-pixel")).slice(0,5)).addClass("yellow-light");$(shuffle($(".tree-pixel")).slice(0,5)).addClass("purple-light")}function shuffle(elements){var m=elements.length,t,i;while(m){i=Math.floor(Math.random()*m--);t=elements[m];elements[m]=elements[i];elements[i]=t}return elements}}})(jQuery);